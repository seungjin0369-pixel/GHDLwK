<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ğŸ¬ ëŒê³ ë˜ í˜¸ì´ì§œ ê²Œì„ ğŸŒŠ</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background-color: #aee1f9;
      font-family: "Comic Sans MS", sans-serif;
    }

    #gameArea {
      position: relative;
      width: 100vw;
      height: 100vh;
      background: url('https://i.imgur.com/J1bE3N2.jpg') center/cover no-repeat; /* ë°”ë‹¤ ë°°ê²½ ì´ë¯¸ì§€ */
      overflow: hidden;
    }

    #dolphin {
      position: absolute;
      bottom: 100px;
      left: 100px;
      width: 100px;  /* ì‚¬ì´ì¦ˆ ì¡°ì • ê°€ëŠ¥ */
      transition: transform 0.15s ease;
      filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
    }

    #wave {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 120px;
      background: url('https://i.imgur.com/qALs5bJ.png') repeat-x;
      animation: waveMove 10s linear infinite;
      opacity: 0.8;
    }

    @keyframes waveMove {
      from { background-position-x: 0; }
      to { background-position-x: 1000px; }
    }

    #message {
      position: absolute;
      top: 40px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 36px;
      font-weight: bold;
      color: #00bcd4;
      text-shadow: 2px 2px #fff;
      display: none;
      animation: pop 0.5s ease;
    }

    @keyframes pop {
      0% { transform: translateX(-50%) scale(0.5); opacity: 0; }
      50% { transform: translateX(-50%) scale(1.3); opacity: 1; }
      100% { transform: translateX(-50%) scale(1); opacity: 0; }
    }
  </style>
</head>
<body>
  <div id="gameArea">
    <div id="wave"></div>
    <img id="dolphin"
         src="https://i.imgur.com/ntxlfGm.png"
         alt="ê·€ì—¬ìš´ ëŒê³ ë˜">  <!-- ì˜ˆì‹œ ì´ë¯¸ì§€ ë§í¬ -->
    <div id="message">ğŸ¬ í˜¸ì´ì§œ~!</div>

    <!-- ë°°ê²½ìŒì•…: ë°”ë‹¤ì†Œë¦¬ -->
    <audio id="bgm" loop>
      <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_b25d8d45b0.mp3?filename=ocean-waves-110734.mp3" type="audio/mp3">
    </audio>

    <!-- ì í”„ ì‚¬ìš´ë“œ: ëŒê³ ë˜ ì†Œë¦¬ -->
    <audio id="jumpSound">
      <source src="https://cdn.pixabay.com/download/audio/2021/09/07/audio_15b16b4b25.mp3?filename=dolphin-sound-5774.mp3" type="audio/mp3">
    </audio>
  </div>

  <script>
    const dolphin = document.getElementById("dolphin");
    const message = document.getElementById("message");
    const jumpSound = document.getElementById("jumpSound");
    const bgm = document.getElementById("bgm");

    let x = 100;
    let y = 0;
    let jumping = false;
    let gravity = 0;
    const ground = 100;

    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowRight") x += 15;
      if (e.key === "ArrowLeft") x -= 15;
      if (e.key === "ArrowUp" && !jumping) {
        jumping = true;
        gravity = 15;
        jumpSound.currentTime = 0;
        jumpSound.play();
      }
      if (e.key === " ") sayHoiJja();
    });

    function sayHoiJja() {
      message.style.display = "block";
      message.style.animation = "none";
      void message.offsetWidth;
      message.style.animation = "pop 0.5s ease";

      dolphin.style.transform = "scale(1.2)";
      setTimeout(() => {
        message.style.display = "none";
        dolphin.style.transform = "scale(1)";
      }, 500);
    }

    function update() {
      if (jumping) {
        y += gravity;
        gravity -= 1.2;
        if (y <= 0) {
          y = 0;
          jumping = false;
        }
      }

      if (x < 0) x = 0;
      if (x > window.innerWidth - dolphin.clientWidth) {
        x = window.innerWidth - dolphin.clientWidth;
      }

      dolphin.style.left = x + "px";
      dolphin.style.bottom = ground + y + "px";
      requestAnimationFrame(update);
    }

    update();

    document.body.addEventListener("click", () => {
      bgm.play();
    }, { once: true });
  </script>
</body>
</html>
