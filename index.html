<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>üê¨ ÎèåÍ≥†Îûò Ï†êÌîÑ Í≤åÏûÑ üåä</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: linear-gradient(#aee1f9, #0077be);
      font-family: "Comic Sans MS", sans-serif;
    }

    #gameArea {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    #wave {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 120px;
      background: linear-gradient(#00bcd4, #0288d1);
      animation: waveMove 6s linear infinite;
      opacity: 0.9;
    }

    @keyframes waveMove {
      0% { background-position-x: 0; }
      100% { background-position-x: 100px; }
    }

    .dolphin {
      position: absolute;
      bottom: 120px;
      left: 100px;
      width: 120px;
      height: 80px;
      background: #6ecff6;
      border-radius: 60px 60px 50px 50px;
      transform-origin: center;
      transition: transform 0.2s ease;
      animation: swim 2s ease-in-out infinite alternate;
    }

    @keyframes swim {
      0% { transform: rotate(2deg) translateY(0); }
      100% { transform: rotate(-3deg) translateY(-4px); }
    }

    .belly { position: absolute; bottom: 10px; left: 10px; width: 100px; height: 40px; background: #e0f7fa; border-radius: 50%; }
    .eye { position: absolute; top: 20px; left: 75px; width: 14px; height: 14px; background: black; border-radius: 50%; }
    .cheek { position: absolute; top: 35px; left: 60px; width: 10px; height: 10px; background: pink; border-radius: 50%; opacity: 0.8; }
    .fin { position: absolute; top: 40px; left: 20px; width: 25px; height: 15px; background: #58b0dc; border-radius: 20px 20px 0 0; transform: rotate(-30deg); }
    .tail { position: absolute; bottom: 10px; left: -15px; width: 30px; height: 30px; background: #58b0dc; border-radius: 50% 0 50% 0; transform: rotate(-40deg); }

    .platform { position: absolute; width: 150px; height: 20px; background: rgba(255, 255, 255, 0.7); border-radius: 10px; border: 2px solid rgba(255,255,255,0.5); }

    #message {
      position: absolute;
      top: 40px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 36px;
      font-weight: bold;
      color: #00bcd4;
      text-shadow: 2px 2px #fff;
      display: none;
      animation: pop 0.5s ease;
    }

    @keyframes pop {
      0% { transform: translateX(-50%) scale(0.5); opacity: 0; }
      50% { transform: translateX(-50%) scale(1.3); opacity: 1; }
      100% { transform: translateX(-50%) scale(1); opacity: 0; }
    }
  </style>
</head>
<body>
  <div id="gameArea">
    <div id="wave"></div>

    <div class="dolphin" id="dolphin">
      <div class="tail"></div>
      <div class="fin"></div>
      <div class="belly"></div>
      <div class="eye"></div>
      <div class="cheek"></div>
    </div>

    <div id="message">üê¨ Ìò∏Ïù¥Ïßú~!</div>

    <div class="platform" style="left:100px; bottom:120px;"></div>
    <div class="platform" style="left:350px; bottom:220px;"></div>
    <div class="platform" style="left:600px; bottom:320px;"></div>
    <div class="platform" style="left:300px; bottom:450px;"></div>

    <audio id="bgm" loop>
      <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_b25d8d45b0.mp3?filename=ocean-waves-110734.mp3" type="audio/mp3">
    </audio>

    <audio id="jumpSound">
      <source src="https://cdn.pixabay.com/download/audio/2021/09/07/audio_15b16b4b25.mp3?filename=dolphin-sound-5774.mp3" type="audio/mp3">
    </audio>
  </div>

  <script>
    const dolphin = document.getElementById("dolphin");
    const message = document.getElementById("message");
    const jumpSound = document.getElementById("jumpSound");
    const bgm = document.getElementById("bgm");
    const platforms = document.querySelectorAll(".platform");

    let x = 100;
    let y = 0;
    let vy = 0;
    let gravity = -1.5;
    let jumping = false;
    const dolphinWidth = 120;
    const dolphinHeight = 80;

    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowRight") x += 15;
      if (e.key === "ArrowLeft") x -= 15;
      if (e.key === "ArrowUp" && !jumping) {
        jumping = true;
        vy = 20;
        jumpSound.currentTime = 0;
        jumpSound.play();
      }
      if (e.key === " ") sayHoiJja();
    });

    function sayHoiJja() {
      message.style.display = "block";
      message.style.animation = "none";
      void message.offsetWidth;
      message.style.animation = "pop 0.5s ease";

      dolphin.style.transform = "scale(1.2)";
      setTimeout(() => {
        message.style.display = "none";
        dolphin.style.transform = "scale(1)";
      }, 500);
    }

    function update() {
      vy += gravity;
      y += vy;

      // Î∞îÎã• Ï∂©Îèå
      if (y < 0) {
        y = 0;
        vy = 0;
        jumping = false;
      }

      // Î∞úÌåê Ï∂©Îèå ÌåêÏ†ï
      platforms.forEach(p => {
        const px = p.offsetLeft;
        const py = p.offsetTop;
        const pw = p.offsetWidth;
        const ph = p.offsetHeight;

        // ÎèåÍ≥†ÎûòÏùò ÌòÑÏû¨ ÏúÑÏπò (Î∞îÎã• Í∏∞Ï§Ä)
        const dolphinBottom = y + 120; 

        if (
          x + dolphinWidth > px &&
          x < px + pw &&
          dolphinBottom > py &&
          dolphinBottom - vy <= py && // ÏúÑÎ°ú Ïò¨ÎùºÍ∞à ÎïåÎäî Î¨¥Ïãú
          vy < 0
        ) {
          y = py - 120;
          vy = 0;
          jumping = false;
        }
      });

      // ÌôîÎ©¥ Î∞ñ Ïù¥Îèô Î∞©ÏßÄ
      if (x < 0) x = 0;
      if (x > window.innerWidth - dolphinWidth) x = window.innerWidth - dolphinWidth;

      dolphin.style.left = x + "px";
      dolphin.style.bottom = 120 + y + "px";
      requestAnimationFrame(update);
    }

    update();

    document.body.addEventListener("click", () => {
      bgm.play();
    }, { once: true });
  </script>
</body>
</html>
